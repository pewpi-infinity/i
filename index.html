<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Octave OS — Infinity Terminal</title>

<style>
body {
    background: #dfe9f5;
    font-family: monospace;
    padding: 20px;
}

h1 {
    text-align: center;
    font-size: 32px;
}

#terminal {
    width: 100%;
    height: 350px;
    background: #042445;
    color: #27ffff;
    padding: 20px;
    border-radius: 12px;
    overflow-y: auto;
    white-space: pre-line;
    font-size: 18px;
    margin-bottom: 20px;
}

#input {
    width: 100%;
    padding: 14px;
    font-size: 18px;
    border-radius: 10px;
    border: 2px solid #000;
}

footer {
    margin-top: 20px;
    text-align: center;
    font-size: 14px;
    opacity: 0.6;
}
</style>
</head>

<body>

<h1>Octave OS — Infinity Terminal</h1>

<div id="terminal">
Octave OS v0.12 — AI Knowledge Vault Ready.
Type a command and press Enter.
</div>

<input id="input" placeholder="Type here and press Enter…" />

<footer>
Powered by Infinity • Designed by Kris Watson & ChatGPT
</footer>

<script>
const terminal = document.getElementById("terminal");
const input = document.getElementById("input");

// print
function printToTerminal(text) {
    terminal.innerHTML += "\n" + text;
    terminal.scrollTop = terminal.scrollHeight;
}

// send to backend
async function sendToBackend(text) {
    try {
        const response = await fetch("http://100.103.137.233:5050/log", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ text })
        });

        const json = await response.json();
        printToTerminal("✔ Logged to server");
    } catch (e) {
        printToTerminal("⚠ backend offline");
    }
}

// simple local response so it feels alive
function aiRespond(cmd) {
    if (!cmd) return "";
    const replies = [
        "Roger.",
        "Affirmative.",
        "Logged.",
        "Understood.",
        "Working.",
        "Processing."
    ];
    return replies[Math.floor(Math.random()*replies.length)];
}

// handle Enter
input.addEventListener("keydown", function(e) {
    if (e.key === "Enter") {
        const cmd = input.value.trim();
        input.value = "";

        printToTerminal("∞ > " + cmd);

        // send to python
        sendToBackend(cmd);

        // respond
        printToTerminal(aiRespond(cmd));
    }
});
</script>

</body>
</html>
